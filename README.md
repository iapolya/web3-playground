# web 3.0 playground

Репозиторий для изучения web3, а именно написания смарт-контрактов на Solidity и деплоя их в блокчейн (но по-разному, ы)

## 1. simple-storage
- [x] Шифрование приватного ключа 
- [x] solcjs для компиляции смарт-контракта
- [x] Деплой с помощью ethers.js

## 2. hardhat-simple-storage
Тот же самый контракт, что и в simple-storage
- [x] Деплой, взаимодействие с контрактом через hardhat
- [x] Покрытие тестами
- [x] Поддержка ts + автоматическая генерация типов по ABI c помощью typechain
- [x] Генерация отчета о тратах gas через gasReporter
- [x] Деплой как в локальную сеть, так и в тестовую (rinkeby)
- [x] Верификация контракта при успешлом деплое в тестовую сеть
- [x] Таск для получения данных их hardhat enviroment (yarn hardhat => AVAILABLE TASKS)

## 3. hardhat-fund-me
В основе [этот контракт](https://gist.github.com/iapolya/e6f6bd994433dfe528341eebf1cb74f3)
Основные функции: fund (транзакция + eth), withdraw (транзакция, возвращающая все отправленные ранее eth)
- [x] Улучшение контракта, который был в основе
  - [x] Исправлен порядок определения переменных, функций и всего прочего по [стайлгайду](https://docs.soliditylang.org/en/v0.8.11/style-guide.html)
  - [x] Переменные из storage помечены "s_" + для них написаны get-методы. Каждое обращание к таким переменных тратит gas. Когда они заметны, можно легко присвоить их значения к переменным в рамках отдельных методов. 
  - [x] Название ошибок содержит название контракта для простоты отладки
- [x] Использование MockV3Aggregator для получения адреса контракта с курсом ETH/USD при делое в локальную сеть. Для rinkeby и прочих добавляем адрес через hepler-hardhat-config.js
- [x] Разделение тестов для unit и staging
